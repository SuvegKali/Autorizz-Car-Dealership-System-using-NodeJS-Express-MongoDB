<!-- Filtering Options -->
<section id="filtering">

    <div class="container-fluid">


        <div class="row">

            {{!-- Pricing --}}
            <div class="col-sm">
                <div class="dropdown price">
                    <button class="btn btn-outline-dark dropdown-toggle bord-wid" type="button" id="dropdownMenuButton"
                        data-toggle="dropdown"> Price </button>

                    <form class="dropdown-menu">
                        <div class="form-check ml-3 my-1">
                            <input type="radio" class="form-check-input gas" id="under50" name="materialExampleRadios">
                            <label class="form-check-label card-link-secondary"> Under $50K</label>
                        </div>

                        <div class="form-check ml-3 my-1">
                            <input type="radio" class="form-check-input gas" id="under75" name="materialExampleRadios">
                            <label class="form-check-label card-link-secondary"> Under $75K</label>
                        </div>

                        <div class="form-check ml-3 my-1">
                            <input type="radio" class="form-check-input gas" id="under100" name="materialExampleRadios">
                            <label class="form-check-label card-link-secondary"> Under $100K</label>
                        </div>

                        <div class="form-check ml-3 my-1">
                            <input type="radio" class="form-check-input gas" id="under150" name="materialExampleRadios">
                            <label class="form-check-label card-link-secondary"> Under $150K</label>
                        </div>

                        <div class="form-group mx-2 mt-2 mb-0">
                            <label class="mb-0" for="formControlRange">Price</label>
                            <input type="range" class="form-control-range" max="200" id="formControlRangePriceGas"
                                onInput="$('#rangeval').html($(this).val()+'K')">
                            <span id="rangeval">100K</span>
                        </div>
                    </form>
                </div>
            </div>


            {{!-- Year --}}
            <div class="col-sm">
                <div class="dropdown yearby">
                    <button class="btn btn-outline-dark dropdown-toggle bord-wid" type="button" id="dropdownMenuButton"
                        data-toggle="dropdown"> Year </button>

                    <div class="dropdown-menu">
                        <div class="custom-control custom-checkbox ml-3 my-1">
                            <input type="checkbox" class="custom-control-input gas" id="year2021">
                            <label class="custom-control-label" for="year2021">2021</label>
                        </div>

                        <div class="custom-control custom-checkbox ml-3 my-1">
                            <input type="checkbox" class="custom-control-input gas" id="year2020">
                            <label class="custom-control-label" for="year2020">2020</label>
                        </div>

                        <div class="custom-control custom-checkbox ml-3 my-1">
                            <input type="checkbox" class="custom-control-input gas" id="year2019">
                            <label class="custom-control-label" for="year2019">2019</label>
                        </div>

                        <div class="custom-control custom-checkbox ml-3 my-1">
                            <input type="checkbox" class="custom-control-input gas" id="year2018">
                            <label class="custom-control-label" for="year2018">2018</label>
                        </div>

                        <div class="form-group mx-2 mt-2 mb-0">
                            <label class="mb-1" for="formControlRange">Year</label>
                            <input type="range" class="form-control-range" min="2015" max="2021"
                                id="formControlRangeYearGas" onInput="$('#rangevalyear').html($(this).val())">
                            <span id="rangevalyear">2018</span>
                        </div>
                    </div>
                </div>
            </div>


            {{!-- Mileage --}}
            <div class="col-sm">
                <div class="dropdown Range">
                    <button class="btn btn-outline-dark dropdown-toggle bord-wid" type="button" id="dropdownMenuButton"
                        data-toggle="dropdown"> Mileage </button>
                    <div class="dropdown-menu">
                        <div class="form-group mx-2 my-2">
                            <label for="formControlRange"> Mileage </label>
                            <input type="range" class="form-control-range" min="10" max="50" id="formControlRangeGas"
                                onInput="$('#rangevalrange').html($(this).val()+'Mi')">
                            <span id="rangevalrange">25 Mi</span>
                        </div>
                    </div>
                </div>
            </div>


            <!-- More -->
            <div class="col-sm">
                <div class="dropdown">
                    <button class="btn btn-outline-dark dropdown-toggle bord-wid" type="button"
                        id="dropdownMenuButtonGas" data-toggle="dropdown"> More </button>
                    <ul class="dropdown-menu px-1">

                        <div class="transmission">
                            Transmission<br>
                            <a href="/gas/filter/?trans=Automatic"><button type="button"
                                    class="btn btn-dark btn-sm">Automatic</button></a>
                            <a href="/gas/filter/?trans=Manual"><button type="button"
                                    class="btn btn-dark btn-sm">Manual</button></a>
                        </div><br>

                        <div class="Drivetrain">
                            Drivetrain<br>
                            <a href="/gas/filter/?drive=FWD"><button type="button"
                                    class="btn btn-dark btn-sm">FWD</button></a>
                            <a href="/gas/filter/?drive=RWD"><button type="button"
                                    class="btn btn-dark btn-sm">RWD</button></a>
                            <a href="/gas/filter/?drive=AWD"><button type="button"
                                    class="btn btn-dark btn-sm">AWD</button></a>

                        </div><br>

                        <div class="Cyl">
                            Cylinders<br>
                            <a href="/gas/filter/?cyl=4"><button type="button"
                                    class="btn btn-dark btn-sm">4</button></a>
                            <a href="/gas/filter/?cyl=6"><button type="button"
                                    class="btn btn-dark btn-sm">6</button></a>
                            <a href="/gas/filter/?cyl=8"><button type="button"
                                    class="btn btn-dark btn-sm">8</button></a>

                        </div><br>

                    </ul>
                </div>
            </div>


            <!-- Sorting -->
            <div class="col-sm">
                <div class="dropdown sortby">
                    <button class="btn btn-outline-dark dropdown-toggle bord-wid" type="button"
                        id="dropdownMenuButtonGas" data-toggle="dropdown"> Sort By </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="/gas/filter/?sortBy=latest">Latest Year</a>
                        </li>
                        <li><a class="dropdown-item" href="/gas/filter/?sortBy=highprice">Highest Price</a></li>
                        <li><a class="dropdown-item" href="/gas/filter/?sortBy=lowprice">Lowest Price</a></li>
                        <li><a class="dropdown-item" href="/gas/filter/?sortBy=highperf">Highest Performance</a>
                        </li>
                        <li><a class="dropdown-item" href="/gas/filter/?sortBy=lowperf">Lowest Performance</a></li>
                        <li><a class="dropdown-item" href="/gas/filter/?sortBy=highrange">Highest Mileage</a></li>
                        <li><a class="dropdown-item" href="/gas/filter/?sortBy=lowrange">Lowest Mileage</a></li>
                    </ul>
                </div>
            </div>






        </div>


    </div>

</section>

<!-- Updated Car Card Template -->

<div>
    
</div>
<div class="col-lg-5 car-item" data-id="{{this._id}}">
    <div class="modeltitle">
        <h4>{{model.title}}</h4>
    </div>

    <!-- Updated image container with slideshow support -->
    <div class="img-container">
        <img src="/{{this.imagePath}}" alt="{{this.title}}">
        <!-- Additional images will be loaded via JavaScript -->
    </div>

    <div class="model-info">
        <div class="info-first">
            <div class="info-first-cards">
                <p class="first-specs">Top Speed</p>
                <svg style="width:24px;height:24px">
                    <path fill="currentColor"
                        d="M12,16A3,3 0 0,1 9,13C9,11.88 9.61,10.9 10.5,10.39L20.21,4.77L14.68,14.35C14.18,15.33 13.17,16 12,16M12,3C13.81,3 15.5,3.5 16.97,4.32L14.87,5.53C14,5.19 13,5 12,5A8,8 0 0,0 4,13C4,15.21 4.89,17.21 6.34,18.65H6.35C6.74,19.04 6.74,19.67 6.35,20.06C5.96,20.45 5.32,20.45 4.93,20.07V20.07C3.12,18.26 2,15.76 2,13A10,10 0 0,1 12,3M22,13C22,15.76 20.88,18.26 19.07,20.07V20.07C18.68,20.45 18.05,20.45 17.66,20.06C17.27,19.67 17.27,19.04 17.66,18.65V18.65C19.11,17.2 20,15.21 20,13C20,12 19.81,11 19.46,10.1L20.67,8C21.5,9.5 22,11.18 22,13Z" />
                </svg><b>{{this.topspeed}} </b>mph
            </div>
            <div class="info-first-cards">
                <p class="first-specs">0-60mph</p>
                <svg style="width:24px;height:24px">
                    <path fill="currentColor"
                        d="M19.03 7.39L20.45 5.97C20 5.46 19.55 5 19.04 4.56L17.62 6C16.07 4.74 14.12 4 12 4C7.03 4 3 8.03 3 13S7.03 22 12 22C17 22 21 17.97 21 13C21 10.88 20.26 8.93 19.03 7.39M13 14H11V7H13V14M15 1H9V3H15V1Z" />
                </svg><b>{{this.time60}} </b>s
            </div>
            <div class="info-first-cards">
                <p class="first-specs">Mileage</p>
                <svg style="width:24px;height:24px">
                    <path fill="currentColor"
                        d="M18,10A1,1 0 0,1 17,9A1,1 0 0,1 18,8A1,1 0 0,1 19,9A1,1 0 0,1 18,10M12,10H6V5H12M19.77,7.23L19.78,7.22L16.06,3.5L15,4.56L17.11,6.67C16.17,7 15.5,7.93 15.5,9A2.5,2.5 0 0,0 18,11.5C18.36,11.5 18.69,11.42 19,11.29V18.5A1,1 0 0,1 18,19.5A1,1 0 0,1 17,18.5V14C17,12.89 16.1,12 15,12H14V5C14,3.89 13.1,3 12,3H6C4.89,3 4,3.89 4,5V21H14V13.5H15.5V18.5A2.5,2.5 0 0,0 18,21A2.5,2.5 0 0,0 20.5,18.5V9C20.5,8.31 20.22,7.68 19.77,7.23Z" />
                </svg><b>{{this.mileage}} </b>mpg
            </div>
        </div>
    </div>

    <div class="info-second">
        <div class="row info-second-row-gas">
            <div class="col-sm info-second-col-gas">
                <ul>
                    <li>
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24"
                            viewBox="0 0 226 226" style=" fill:#000000;">
                            <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1"
                                stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10"
                                stroke-dasharray="" stroke-dashoffset="0" font-family="none"
                                font-weight="none" font-size="none" text-anchor="none"
                                style="mix-blend-mode: normal">
                                <path d="M0,226v-226h226v226z" fill="none"></path>
                                <g fill="currentColor">
                                    <path
                                        d="M103.58333,28.25v28.25h28.25v9.41667h-37.66667l-28.25,28.25h-28.25v18.83333h-9.41667v-18.83333h-28.25v75.33333h28.25v-18.83333h9.41667v18.83333h28.25l28.25,28.25h56.5l37.66667,-37.66667v-9.41667h9.41667v18.83333h28.25v-75.33333h-28.25v18.83333h-9.41667v-47.08333h-37.66667v-9.41667h28.25v-28.25zM141.25,94.16667l-8.53385,28.25h17.95052l-37.66667,37.66667l7.65104,-27.36719h-17.06771z">
                                    </path>
                                </g>
                            </g>
                        </svg> {{this.engine}}L Turbo Engine
                    </li>
                    <!-- Other specs remain the same -->
                </ul>
            </div>
            <!-- Second column remains the same -->
        </div>
    </div>

    <!-- Description section - now collapsible on mobile -->
    <div class="info-third">
        <div class="container">
            <p>{{this.description}}</p>
        </div>
        <!-- Toggle button will be added via JavaScript for mobile -->
    </div>

    <!-- Modified buy section - Card is now clickable -->
    <div class="model-buy">
        <div class="row">
            <div class="col-sm buyprice">
                <h4>${{this.priceStr}}</h4>
            </div>
            <div class="col-sm text-center buybutton">
                <!-- We keep this link but hide the button -->
                <a style="color: white; display: none;" href="booknow/{{this._id}}">
                    <button id="b1" type="button" class="btn btn-outline-light">Book Now</button>
                </a>
            </div>
        </div>
    </div>
</div>

<script src="/javascripts/gas_cars.js"></script>